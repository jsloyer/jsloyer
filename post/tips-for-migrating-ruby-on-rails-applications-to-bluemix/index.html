<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Who doesn‚Äôt love some Ruby? Bluemix definitely loves Ruby on Rails! Sometimes running a Ruby on Rails app can be a little tricky, so I have included some tips and tricks for migrating your Ruby on Rails app to Bluemix. They will include:\nRequired gems Code tweaks Accessing external databases Deploying your app Required gems If you are using\u00a0PostgreSQL you need to include pg.\u00a0Sqlite3 is included to get local development working as well. Add the following line to your Gemfile.\n"><title>Tips for Migrating Ruby on Rails Applications to Bluemix</title><link rel=canonical href=https://www.jeffsloyer.io/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Tips for Migrating Ruby on Rails Applications to Bluemix"><meta property='og:description' content="Who doesn‚Äôt love some Ruby? Bluemix definitely loves Ruby on Rails! Sometimes running a Ruby on Rails app can be a little tricky, so I have included some tips and tricks for migrating your Ruby on Rails app to Bluemix. They will include:\nRequired gems Code tweaks Accessing external databases Deploying your app Required gems If you are using\u00a0PostgreSQL you need to include pg.\u00a0Sqlite3 is included to get local development working as well. Add the following line to your Gemfile.\n"><meta property='og:url' content='https://www.jeffsloyer.io/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/'><meta property='og:site_name' content='Jeff Sloyer'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='bluemix'><meta property='article:tag' content='postgresql'><meta property='article:tag' content='redis'><meta property='article:tag' content='ror'><meta property='article:tag' content='ruby'><meta property='article:tag' content='ruby on rails'><meta property='article:published_time' content='2015-03-05T10:09:31-05:00'><meta property='article:modified_time' content='2015-03-05T10:09:31-05:00'><meta property='og:image' content='https://www.jeffsloyer.io/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/migrate.jpg'><meta name=twitter:title content="Tips for Migrating Ruby on Rails Applications to Bluemix"><meta name=twitter:description content="Who doesn‚Äôt love some Ruby? Bluemix definitely loves Ruby on Rails! Sometimes running a Ruby on Rails app can be a little tricky, so I have included some tips and tricks for migrating your Ruby on Rails app to Bluemix. They will include:\nRequired gems Code tweaks Accessing external databases Deploying your app Required gems If you are using\u00a0PostgreSQL you need to include pg.\u00a0Sqlite3 is included to get local development working as well. Add the following line to your Gemfile.\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://www.jeffsloyer.io/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/migrate.jpg'><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-1SGYYQEYE5"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1SGYYQEYE5")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/airplane_hu_b02b01ef7f6fbee8.png width=300 height=225 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>Jeff Sloyer</a></h1><h2 class=site-description>Thoughts on Tech and other interests...</h2></div></header><ol class=menu-social><li><a href=https://github.com/jsloyer target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/jeffsloyer/ target=_blank title="Linked In" rel=me><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg></a></li><li><a href=https://twitter.com/jsloyer target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/speaking/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>Speaking</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#required-gems>Required gems</a></li><li><a href=#code-tweaks--external-databases>Code tweaks & external databases</a></li><li><a href=#deploy-your-app>Deploy your app!</a></li><li><a href=#prepare-your-app>Prepare your app</a></li><li><a href=#push-your-app>Push your app</a></li><li><a href=#one-last-little-tip>One last little tip‚Ä¶</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/><img src=/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/migrate_hu_189a7266b72872f8.jpg srcset="/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/migrate_hu_189a7266b72872f8.jpg 800w, /post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/migrate_hu_29e429e420a15ace.jpg 1600w" width=800 height=589 loading=lazy alt="Featured image of post Tips for Migrating Ruby on Rails Applications to Bluemix"></a></div><div class=article-details><header class=article-category><a href=/categories/sample-code/>Sample Code</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/>Tips for Migrating Ruby on Rails Applications to Bluemix</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 05, 2015</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>5 minute read</time></div></footer></div></header><section class=article-content><p><img src=/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/Ruby_on_Rails-logo.png width=316 height=376 srcset="/post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/Ruby_on_Rails-logo_hu_c0baf2a74f99fe6.png 480w, /post/tips-for-migrating-ruby-on-rails-applications-to-bluemix/Ruby_on_Rails-logo_hu_9616540ae7f03bb2.png 1024w" loading=lazy alt="Ruby on Rails.svg  231x300 Tips for Migrating Ruby on Rails Applications to Bluemix" class=gallery-image data-flex-grow=84 data-flex-basis=201px>Who doesn‚Äôt love some Ruby? ¬†Bluemix definitely loves Ruby on Rails! ¬†Sometimes running a Ruby on Rails app can be a little tricky, so I have included some tips and tricks for migrating your Ruby on Rails app to Bluemix. They will include:</p><ul><li>Required gems</li><li>Code tweaks</li><li>Accessing external databases</li><li>Deploying your app</li></ul><h3 id=required-gems>Required gems</h3><p>If you are using¬†PostgreSQL you need to include <code>pg</code>.¬†Sqlite3 is included to get local development working as well. ¬†Add the following line to your Gemfile.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>gem &#39;pg&#39;
</span></span><span class=line><span class=cl>gem &#39;sqlite3&#39;
</span></span></code></pre></td></tr></table></div></div><p>Additionally there are two more gems you should include as well. ¬†These gems will be included by some Ruby buildpacks but we should include them just in case.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>gem &#34;cf-autoconfig&#34;, &#34;~&gt; 0.2.1&#34;
</span></span><span class=line><span class=cl>gem &#39;rails_12factor&#39;, group: :production
</span></span></code></pre></td></tr></table></div></div><h3 id=code-tweaks--external-databases>Code tweaks & external databases</h3><p>When you deploy your app to Bluemix, the Ruby buildpack will overwrite your database.yml file to pull in the attached DB service. ¬†You should have a <code>database.yml</code> file if you are running locally. ¬†Below is a pretty standard one:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># SQLite version 3.x
</span></span><span class=line><span class=cl>#   gem install sqlite3-ruby (not necessary on OS X Leopard)
</span></span><span class=line><span class=cl>development:
</span></span><span class=line><span class=cl>  adapter: sqlite3
</span></span><span class=line><span class=cl>  database: db/development.sqlite3
</span></span><span class=line><span class=cl>  pool: 5
</span></span><span class=line><span class=cl>  timeout: 5000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Warning: The database defined as &#34;test&#34; will be erased and
</span></span><span class=line><span class=cl># re-generated from your development database when you run &#34;rake&#34;.
</span></span><span class=line><span class=cl># Do not set this db to the same as development or production.
</span></span><span class=line><span class=cl>test:
</span></span><span class=line><span class=cl>  adapter: sqlite3
</span></span><span class=line><span class=cl>  database: db/test.sqlite3
</span></span><span class=line><span class=cl>  pool: 5
</span></span><span class=line><span class=cl>  timeout: 5000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>production:
</span></span><span class=line><span class=cl>  adapter: sqlite3
</span></span><span class=line><span class=cl>  database: db/production.sqlite3
</span></span><span class=line><span class=cl>  pool: 5
</span></span><span class=line><span class=cl>  timeout: 5000
</span></span></code></pre></td></tr></table></div></div><p>If you are using Redis and¬†PostgreSQL, it can be a little tricky to use two databases. ¬†Here is the config for using Redis with <a class=link href=https://github.com/resque/resque target=_blank rel=noopener>Resque</a> (a task scheduler that is backed by Redis). ¬†This file is specific to resque and its located at <code>config/initializers/resque.yml</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>require</span> <span class=s1>&#39;resque/status_server&#39;</span>
</span></span><span class=line><span class=cl><span class=n>require</span> <span class=s1>&#39;json&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>rails_root</span> <span class=o>=</span> <span class=n>ENV</span><span class=p>[</span><span class=s1>&#39;RAILS_ROOT&#39;</span><span class=p>]</span> <span class=o>||</span> <span class=ne>File</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>__FILE__</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39;/../..&#39;</span>
</span></span><span class=line><span class=cl><span class=n>rails_env</span> <span class=o>=</span> <span class=n>ENV</span><span class=p>[</span><span class=s1>&#39;RAILS_ENV&#39;</span><span class=p>]</span> <span class=o>||</span> <span class=s1>&#39;development&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>resque_config</span> <span class=o>=</span> <span class=n>YAML</span><span class=o>.</span><span class=n>load_file</span><span class=p>(</span><span class=n>rails_root</span> <span class=o>+</span> <span class=s1>&#39;/config/resque.yml&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>rails_env</span> <span class=o>!=</span> <span class=s2>&#34;production&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>Resque</span><span class=o>.</span><span class=n>redis</span> <span class=o>=</span> <span class=n>resque_config</span><span class=p>[</span><span class=n>rails_env</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=n>vcap_services</span> <span class=o>=</span> <span class=n>JSON</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>ENV</span><span class=p>[</span><span class=s1>&#39;VCAP_SERVICES&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>credentials</span> <span class=o>=</span> <span class=n>vcap_services</span><span class=p>[</span><span class=s2>&#34;rediscloud&#34;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s2>&#34;credentials&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>Resque</span><span class=o>.</span><span class=n>redis</span> <span class=o>=</span> <span class=s2>&#34;:&#34;</span> <span class=o>+</span> <span class=n>credentials</span><span class=p>[</span><span class=s2>&#34;password&#34;</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;@&#34;</span> <span class=o>+</span> <span class=n>credentials</span><span class=p>[</span><span class=s2>&#34;hostname&#34;</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&#34;:&#34;</span> <span class=o>+</span> <span class=n>credentials</span><span class=p>[</span><span class=s2>&#34;port&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>end</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=deploy-your-app>Deploy your app!</h3><p>To deploy your app, you need to create some services in Bluemix for your app. ¬†We will do this with the Cloud Foundry command line.</p><p><em>PostgreSQL:</em></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cf create-service elephantsql turtle postgres-myapp
</span></span><span class=line><span class=cl>#postgres-myapp is the name of your service, you can name this whatever you want
</span></span></code></pre></td></tr></table></div></div><p><em>Redis:</em></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cf create-service rediscloud 25mb redis-myapp
</span></span><span class=line><span class=cl>#redis-myapp is the name of your service, you can name this whatever you want
</span></span></code></pre></td></tr></table></div></div><h3 id=prepare-your-app>Prepare your app</h3><p>Cloud Foundry requires a file called <code>manifest.yml</code> to help bind services to your app and defining memory limits, CPU limits, and the number of instances required. ¬†Belows is an example file I used. ¬†The name of the app is the unique identifier of your app that will be in your account. ¬†Hostname is the hostname of the app, it will be <em>yourhostname</em>.mybluemix.net or if you are running in London it will be <em>yourhostname</em>.eu-gb.mybluemix.net. ¬†The <code>command</code> is pretty important, it says it will run the <code>db:setup</code> everytime the app is deployed, this should probably be changed to <code>db:migrate</code> instead though.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>applications:
</span></span><span class=line><span class=cl>#swap out myapp-jbs for your own app name
</span></span><span class=line><span class=cl>- name: myapp-jbs
</span></span><span class=line><span class=cl>  memory: 1GB
</span></span><span class=line><span class=cl>  instances: 1
</span></span><span class=line><span class=cl>  path: .
</span></span><span class=line><span class=cl>  command: bundle exec rake db:setup &amp;&amp; bundle exec rails s -p $PORT
</span></span><span class=line><span class=cl>  services:
</span></span><span class=line><span class=cl>  #swap out the below for your own
</span></span><span class=line><span class=cl>  #cf cs elephantsql turtle yourownname
</span></span><span class=line><span class=cl>  #cf cs rediscloud 25mb yourownname
</span></span><span class=line><span class=cl>  #redis cloud has different plans, check out cf marketplace for the plans
</span></span><span class=line><span class=cl>    - postgres-myapp
</span></span><span class=line><span class=cl>    - redis-myapp
</span></span></code></pre></td></tr></table></div></div><h3 id=push-your-app>Push your app</h3><p>So we are on the final step, time to push our app! ¬†If you are using Ruby 2.2.0, it‚Äôs not officially supported by Cloud Foundry, but there is a buildpack that is part of the Cloud Foundry community github that we can use. ¬†It tracks pretty close to the latest Ruby and Rails. ¬†For my app I used Ruby 2.2.0 and Rails 4.2.0:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cf push -b https://github.com/cloudfoundry/ruby-buildpack.git
</span></span></code></pre></td></tr></table></div></div><h3 id=one-last-little-tip>One last little tip‚Ä¶</h3><p>One last little tweak if you are familiar with Git it will make your life in Cloud Foundry land a little better. ¬†There is a file called <code>.cfignore</code> that goes in the root of your project, it basically acts like <code>.gitgnore</code> and prevents files being updated to Cloud Foundry. ¬†So for Ruby on Rails you probably would want your vendor folder here and etc. ¬†I have put one below that I use.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>.DS_STORE
</span></span><span class=line><span class=cl># Ignore bundler config
</span></span><span class=line><span class=cl>/.bundle
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Ignore the default SQLite database.
</span></span><span class=line><span class=cl>/db/*.sqlite3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Ignore all logfiles and tempfiles.
</span></span><span class=line><span class=cl>/log/*.log
</span></span><span class=line><span class=cl>/tmp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Ignore coverage
</span></span><span class=line><span class=cl>/coverage
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Tag file
</span></span><span class=line><span class=cl>tags
</span></span><span class=line><span class=cl>.idea/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>.swo
</span></span><span class=line><span class=cl>.swp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>.envrc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cscope*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>doc/*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>.jira-url
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>vendor/*
</span></span></code></pre></td></tr></table></div></div><p>If you have any issues please reach out to us on <a class=link href=http://stackoverflow.com/questions/tagged/bluemix target=_blank rel=noopener>StackOverflow</a>! ¬†In the top righthand corner click ‚ÄúAsk Question‚Äù.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/bluemix/>Bluemix</a>
<a href=/tags/postgresql/>Postgresql</a>
<a href=/tags/redis/>Redis</a>
<a href=/tags/ror/>Ror</a>
<a href=/tags/ruby/>Ruby</a>
<a href=/tags/ruby-on-rails/>Ruby on Rails</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/peering-inside-a-criminals-mind-using-ibm-watson/><div class=article-image><img src=/post/peering-inside-a-criminals-mind-using-ibm-watson/glasses.27d239de06198fae9a949f59a6820f1c_hu_6136c73f1583bc6d.jpg width=250 height=150 loading=lazy alt="Featured image of post Peering Inside a Criminal‚Äôs Mind using IBM Watson" data-key=peering-inside-a-criminals-mind-using-ibm-watson/ data-hash="md5-J9I53gYZj66alJ9ZpoIPHA=="></div><div class=article-details><h2 class=article-title>Peering Inside a Criminal‚Äôs Mind using IBM Watson</h2></div></a></article><article class=has-image><a href=/post/deploying-your-meteor-app-to-cloud-foundry-and-bluemix/><div class=article-image><img src=/post/deploying-your-meteor-app-to-cloud-foundry-and-bluemix/meteor.34fdd9fe4ffd23fa6e7a556bb707f229_hu_4d3fef20a3c842ea.jpg width=250 height=150 loading=lazy alt="Featured image of post Deploying your Meteor app to Cloud Foundry and Bluemix" data-key=deploying-your-meteor-app-to-cloud-foundry-and-bluemix/ data-hash="md5-NP3Z/k/9I/puelVrtwfyKQ=="></div><div class=article-details><h2 class=article-title>Deploying your Meteor app to Cloud Foundry and Bluemix</h2></div></a></article><article class=has-image><a href=/post/zero-down-time-deploys-with-the-cf-autopilot-plugin/><div class=article-image><img src=/post/zero-down-time-deploys-with-the-cf-autopilot-plugin/unplug.d458273e4f96c48b3eff1f4a94da7f2d_hu_ac78d9488f0d2b5a.jpg width=250 height=150 loading=lazy alt="Featured image of post Zero Downtime Deployment with the CF Autopilot Plugin" data-key=zero-down-time-deploys-with-the-cf-autopilot-plugin/ data-hash="md5-1FgnPk+WxIs+/x9KlNp/LQ=="></div><div class=article-details><h2 class=article-title>Zero Downtime Deployment with the CF Autopilot Plugin</h2></div></a></article><article class=has-image><a href=/post/iot-python-app-with-a-raspberry-pi-and-bluemix/><div class=article-image><img src=/post/iot-python-app-with-a-raspberry-pi-and-bluemix/iot-pi.45bcac68635bd88d3e1493389914926c_hu_898e6858bf6a597e.jpg width=250 height=150 loading=lazy alt="Featured image of post IoT Python app with a Raspberry Pi and Bluemix" data-key=iot-python-app-with-a-raspberry-pi-and-bluemix/ data-hash="md5-RbysaGNb2I0+FJM4mRSSbA=="></div><div class=article-details><h2 class=article-title>IoT Python app with a Raspberry Pi and Bluemix</h2></div></a></article><article class=has-image><a href=/post/simple-hello-world-python-app-using-flask/><div class=article-image><img src=/post/simple-hello-world-python-app-using-flask/helloworld.5adede0999e4f3f6fc03eefcd882b848_hu_de0b7aa9d7f94b3c.png width=250 height=150 loading=lazy alt="Featured image of post Simple Hello World Python App using Flask" data-key=simple-hello-world-python-app-using-flask/ data-hash="md5-Wt7eCZnk8/b8A+782IK4SA=="></div><div class=article-details><h2 class=article-title>Simple Hello World Python App using Flask</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//jeffsloyerio.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 Jeff Sloyer</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>